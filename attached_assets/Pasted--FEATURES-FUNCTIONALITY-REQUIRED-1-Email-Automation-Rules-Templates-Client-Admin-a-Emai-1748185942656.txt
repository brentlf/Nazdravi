✅ FEATURES & FUNCTIONALITY REQUIRED
1. Email Automation Rules & Templates (Client & Admin)
a. Email Trigger Events (Client):
Send automated emails from info@veenutrition.com to the client email upon:

New invoice generated by admin

Appointment cancelled by Admin

Late reschedule (4 working hours before appointment – include €5 fee explanation) - Client request and we send an email explain that an additional fee would be charged. If emergency circumstances arose, to please contact us and we will happily accommodate where possible. 

No-show (include 50% penalty fee notice)

b. Email Trigger Events (Admin - admin@veenutrition.com):
these emails inform the admin of changes made by the client. 

New appointment request

Reschedule request by client

Invoice marked as paid

Client updates medical history (chronic conditions, medications, GP)

Client upgrades/renews complete plan

c. Email Template Requirements:

Include branding (VeeNutrition) and personalized client name

Explain cancellation/no-show policy and point to dashboard for full details

Clear call-to-action buttons (e.g., “View in Dashboard”)

Explain importance of filling out required forms or rescheduling early

2. Client Dashboard Email Automation Section
Add a visible log/section showing sent emails (e.g., invoice, appointment reminders, policy notices).

Include status: Delivered, Opened, Pending

Allow users to update email preferences or re-send an email (optional)

3. Rescheduling/Cancellation Policy Logic & UI
Clients may cancel or reschedule up to 1 hour after the scheduled time (with no additional charge).

UI must show a countdown (if <1hr remains).

Within 4hr (working hours) from appointment time:

Rescheduling = €5 charge

No-show:
50% fee added to invoice (half price)

Show this policy clearly on booking page, appointment confirmation, and in appointment section of dashboard

All penalties must sync to invoices in Firebase and admin dashboard should facilitate this including whether its pay-as-you go versus complete program. 

4. Pre-Valuation Form Setup & Dashboard Flag
After appointment is confirmed, require client to complete a pre-valuation form (e.g., health data, goals).

Must appear as “Action Required” banner or notification on main dashboard.

Form data stored in firebase collection and linked to relevant appointments

Dashboard status: Form Complete / Pending

5. Time Slot Scheduling Rules by Day
Tuesdays & Thursdays: allow booking up to 21:00

All other days: last slot = 17:00

Saturday: 8:00 to 11:00
Sundays: No bookings allowed. 

Logic must:

Adjust availability dynamically by weekday

Prevent override without admin permission

Display available timeslots clearly in UI

6. Fix Payment Options on Invoice Page
Currently, payment options do not load

Ensure integration with supported payment processor (Stripe)

Test responsiveness and retry logic

Status should update invoice: Unpaid → Paid in real time

Show error message if payment fails (and retry option)

7. Invoice Management System Enhancements
Must track:

Standard session fee

€5 late change penalty

50% no-show penalty

Differences in pay-as-you-go vs complete program pricing

Setup conditional logic based on client’s selected plan type

Invoices must show:

Breakdown of services and penalties

Due date, payment method, payment status

Sync with Firebase Firestore invoices collection

8. Admin Dashboard: User Profile View & Notes
From Users list → Action column → Click → View full profile

Should show all client info: contact, appointments, payments, forms, plan type

Add a field for admin-only notes

Must be private (not visible to client)

Stored securely under adminNotes in Firestore

Remove incorrect option: “Language = Nederlands” its between English, Czech and Afrikaans. Also to include afrikaans within the pre-consent form as an option. 

9. Microsoft Teams Meeting Link Handling
Each appointment should have:

A unique Microsoft Teams link

Stored in Firestore under appointments.teamsLink

Link must be:

Visible to both client and admin

Clickable in the appointment details

Open in a new tab when clicked

Validate that each meeting link is correctly generated and corresponds to the right appointment time